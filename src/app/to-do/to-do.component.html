<div id="toDoList">
  <p-toast position="top-right"></p-toast>
  <div class="interfaceInput">
    <form [formGroup]="form">
      <app-input formControlName="todoTitle"></app-input>
    </form>
    <app-button
      (action)="addTasks()"
      [loading]="isLoading | async"
      label="Добавить">
    </app-button>
  </div>
  <p-scrollPanel [style]="{width: '100%', height: '220px'}" styleClass="custombar1">
    <table class="list">
      <ng-container *ngIf="!(isLoading | async); else spinner">
        <h1 *ngIf="!todoItems.length">Ничего не найдено</h1>
        <app-to-do-list
          *ngFor="let todoItem of todoItems"
          [todo]="todoItem"
          [selectedType]="selectedType">
        </app-to-do-list>
      </ng-container>
      <ng-template #spinner>
        <i class="pi pi-spin pi-spinner" style="font-size: 3em"></i>
      </ng-template>
    </table>
  </p-scrollPanel>
  <div style="width: 100%; position: relative">
    <p-selectButton
      [options]="selectTypes"
      [(ngModel)]="selectedType"
      (onChange)="filteredBySelectedType()">
    </p-selectButton>
  </div>
</div>
